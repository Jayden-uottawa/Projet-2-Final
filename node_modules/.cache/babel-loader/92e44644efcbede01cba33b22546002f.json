{"ast":null,"code":"import _slicedToArray from\"/Users/jaydenbergevin/Desktop/GitHub/Projet-2-Final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import background from'./img/background.png';import Card from'react-bootstrap/Card';import Button from'react-bootstrap/Button';import{Container,Row,Col}from'react-grid-system';import ForumList from'./ForumList';import{useEffect,useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Blog=function Blog(){var _useState=useState(null),_useState2=_slicedToArray(_useState,2),forum=_useState2[0],setForum=_useState2[1];var handleDelete=function handleDelete(id){var newforum=forum.filter(function(forum){return forum.id!==id;});setForum(newforum);};var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),auteur=_useState4[0],setAuteur=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),message=_useState6[0],setMessage=_useState6[1];var handleSubmit=function handleSubmit(e){e.preventDefault();var forum={auteur:auteur,message:message};fetch('http://localhost:8000/forum',{method:'POST',headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(forum)}).then(function(){console.log('new acti added');});};useEffect(function(){fetch('http://localhost:8000/forum').then(function(res){return res.json();}).then(function(data){setForum(data);});},[]);return/*#__PURE__*/_jsx(\"div\",{style:{backgroundImage:\"url(\"+background+\")\",backgroundPosition:'0px 0px',backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",width:\"100vw\",height:\"100vh\"},children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Row,{children:[/*#__PURE__*/_jsx(Col,{sm:6}),/*#__PURE__*/_jsxs(Col,{sm:5,children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Card,{style:{width:'30rem',backgroundColor:'orange'},className:\"addcard\",children:/*#__PURE__*/_jsx(Card.Body,{children:/*#__PURE__*/_jsxs(Card.Text,{children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Forum de discussion\"}),forum&&/*#__PURE__*/_jsx(ForumList,{forum:forum,handleDelete:handleDelete}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{children:\" Entrez votre nom:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",required:true,value:auteur,onChange:function onChange(e){return setAuteur(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\" Entrez votre message: \"}),/*#__PURE__*/_jsx(\"textarea\",{required:true,value:message,onChange:function onChange(e){return setMessage(e.target.value);}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{children:\"Publier votre message\"})]})]})})})]}),/*#__PURE__*/_jsx(Col,{sm:1})]})})});};export default Blog;","map":{"version":3,"names":["background","Card","Button","Container","Row","Col","ForumList","useEffect","useState","Blog","forum","setForum","handleDelete","id","newforum","filter","auteur","setAuteur","message","setMessage","handleSubmit","e","preventDefault","fetch","method","headers","body","JSON","stringify","then","console","log","res","json","data","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","width","height","backgroundColor","target","value"],"sources":["/Users/jaydenbergevin/Desktop/GitHub/Projet-2-Final/src/Blog.js"],"sourcesContent":["import background from './img/background.png'\nimport Card from 'react-bootstrap/Card'\nimport Button from 'react-bootstrap/Button'\nimport { Container, Row, Col } from 'react-grid-system';\nimport ForumList from './ForumList';\nimport { useEffect, useState } from 'react'\n\n\nconst Blog = () => {\n    const [forum, setForum] = useState(null);\n\n    const handleDelete = (id) => {\n        const newforum = forum.filter(forum => forum.id !== id)\n        setForum(newforum)\n\n    }\n    const [auteur, setAuteur] = useState('')\n    const [message, setMessage] = useState('')\n    \n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        const forum = { auteur, message };\n        \n        fetch('http://localhost:8000/forum', {\n            method: 'POST',\n            headers: { \"Content-Type\": \"application/json\"},\n            body: JSON.stringify(forum)\n        }).then(() =>{\n            console.log('new acti added')\n        })\n            \n\n    }\n\n    useEffect(() => {\n        fetch('http://localhost:8000/forum')\n            .then(res => {\n                return res.json();\n            })\n            .then(data => {\n                setForum(data);\n            })\n\n    }, []);\n    return ( \n        <div style={{\n            backgroundImage: \"url(\" + background + \")\",\n            backgroundPosition: '0px 0px',\n            backgroundSize: \"cover\",\n            backgroundRepeat: \"no-repeat\",\n            width: \"100vw\",\n            height: \"100vh\",\n          }}>\n              <Container>\n                  <Row>\n                      <Col sm={6}>\n\n                      </Col>\n                      <Col sm={5}>\n                      <br/><br/>\n                          <Card style={{ width: '30rem', backgroundColor: 'orange' }} className='addcard'>\n                              <Card.Body>\n                                  <Card.Text>\n                                      <h2>Forum de discussion</h2>\n                                      {forum && <ForumList forum={forum} handleDelete={handleDelete} />}\n                                      <form onSubmit={handleSubmit}>\n                                          <label> Entrez votre nom:</label>\n                                          <input \n                                          type=\"text\"\n                                          required\n                                          value = {auteur}\n                                          onChange={(e) => setAuteur(e.target.value)}\n                                          />\n                                          <br/><br/>\n                                          <label> Entrez votre message: </label>\n                                          <textarea \n                                          required\n                                          value = { message }\n                                          onChange={(e) => setMessage(e.target.value)}\n                                          ></textarea>\n                                          <br/><br/>\n                                          <button>Publier votre message</button>\n\n                                          \n                                          \n                                          \n                                      </form>\n                                    </Card.Text>\n                                    \n                                </Card.Body>\n                            </Card>\n                        </Col>\n                        <Col sm={1}>\n\n                        </Col>\n                    </Row>\n                </Container>\n         </div>\n        \n     );\n}\n \nexport default Blog;"],"mappings":"yIAAA,MAAOA,WAAP,KAAuB,sBAAvB,CACA,MAAOC,KAAP,KAAiB,sBAAjB,CACA,MAAOC,OAAP,KAAmB,wBAAnB,CACA,OAASC,SAAT,CAAoBC,GAApB,CAAyBC,GAAzB,KAAoC,mBAApC,CACA,MAAOC,UAAP,KAAsB,aAAtB,CACA,OAASC,SAAT,CAAoBC,QAApB,KAAoC,OAApC,C,wFAGA,GAAMC,KAAI,CAAG,QAAPA,KAAO,EAAM,CACf,cAA0BD,QAAQ,CAAC,IAAD,CAAlC,wCAAOE,KAAP,eAAcC,QAAd,eAEA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,EAAD,CAAQ,CACzB,GAAMC,SAAQ,CAAGJ,KAAK,CAACK,MAAN,CAAa,SAAAL,KAAK,QAAIA,MAAK,CAACG,EAAN,GAAaA,EAAjB,EAAlB,CAAjB,CACAF,QAAQ,CAACG,QAAD,CAAR,CAEH,CAJD,CAKA,eAA4BN,QAAQ,CAAC,EAAD,CAApC,yCAAOQ,MAAP,eAAeC,SAAf,eACA,eAA8BT,QAAQ,CAAC,EAAD,CAAtC,yCAAOU,OAAP,eAAgBC,UAAhB,eAGA,GAAMC,aAAY,CAAG,QAAfA,aAAe,CAACC,CAAD,CAAO,CACxBA,CAAC,CAACC,cAAF,GACA,GAAMZ,MAAK,CAAG,CAAEM,MAAM,CAANA,MAAF,CAAUE,OAAO,CAAPA,OAAV,CAAd,CAEAK,KAAK,CAAC,6BAAD,CAAgC,CACjCC,MAAM,CAAE,MADyB,CAEjCC,OAAO,CAAE,CAAE,eAAgB,kBAAlB,CAFwB,CAGjCC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAelB,KAAf,CAH2B,CAAhC,CAAL,CAIGmB,IAJH,CAIQ,UAAK,CACTC,OAAO,CAACC,GAAR,CAAY,gBAAZ,EACH,CAND,EASH,CAbD,CAeAxB,SAAS,CAAC,UAAM,CACZgB,KAAK,CAAC,6BAAD,CAAL,CACKM,IADL,CACU,SAAAG,GAAG,CAAI,CACT,MAAOA,IAAG,CAACC,IAAJ,EAAP,CACH,CAHL,EAIKJ,IAJL,CAIU,SAAAK,IAAI,CAAI,CACVvB,QAAQ,CAACuB,IAAD,CAAR,CACH,CANL,EAQH,CATQ,CASN,EATM,CAAT,CAUA,mBACI,YAAK,KAAK,CAAE,CACRC,eAAe,CAAE,OAASnC,UAAT,CAAsB,GAD/B,CAERoC,kBAAkB,CAAE,SAFZ,CAGRC,cAAc,CAAE,OAHR,CAIRC,gBAAgB,CAAE,WAJV,CAKRC,KAAK,CAAE,OALC,CAMRC,MAAM,CAAE,OANA,CAAZ,uBAQM,KAAC,SAAD,wBACI,MAAC,GAAD,yBACI,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EADJ,cAII,MAAC,GAAD,EAAK,EAAE,CAAE,CAAT,wBACA,aADA,cACK,aADL,cAEI,KAAC,IAAD,EAAM,KAAK,CAAE,CAAED,KAAK,CAAE,OAAT,CAAkBE,eAAe,CAAE,QAAnC,CAAb,CAA4D,SAAS,CAAC,SAAtE,uBACI,KAAC,IAAD,CAAM,IAAN,wBACI,MAAC,IAAD,CAAM,IAAN,yBACI,2CADJ,CAEK/B,KAAK,eAAI,KAAC,SAAD,EAAW,KAAK,CAAEA,KAAlB,CAAyB,YAAY,CAAEE,YAAvC,EAFd,cAGI,cAAM,QAAQ,CAAEQ,YAAhB,wBACI,6CADJ,cAEI,cACA,IAAI,CAAC,MADL,CAEA,QAAQ,KAFR,CAGA,KAAK,CAAIJ,MAHT,CAIA,QAAQ,CAAE,kBAACK,CAAD,QAAOJ,UAAS,CAACI,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAhB,EAJV,EAFJ,cAQI,aARJ,cAQS,aART,cASI,kDATJ,cAUI,iBACA,QAAQ,KADR,CAEA,KAAK,CAAKzB,OAFV,CAGA,QAAQ,CAAE,kBAACG,CAAD,QAAOF,WAAU,CAACE,CAAC,CAACqB,MAAF,CAASC,KAAV,CAAjB,EAHV,EAVJ,cAeI,aAfJ,cAeS,aAfT,cAgBI,iDAhBJ,GAHJ,GADJ,EADJ,EAFJ,GAJJ,cAsCM,KAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EAtCN,GADJ,EARN,EADJ,CAwDH,CA7FD,CA+FA,cAAelC,KAAf"},"metadata":{},"sourceType":"module"}